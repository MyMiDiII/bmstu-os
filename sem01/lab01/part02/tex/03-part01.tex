\chapter{Функции~~обработчика~~прерывания от~системного
таймера в защищенном режиме}

\textbf{Тик} -- период времени между двумя последующими прерываниями таймера.

\textbf{Основной тик} -- период времени, равный $N$ тикам таймера, где число
$N$ зависит от конкретного варианта системы.

\textbf{Квант времени} -- временной интервал, в течение которого процесс
может использовать процессор до вытеснения его другим процессом.

\section{ОС семейства Windows}

Обработчик прерывания от системного таймера \textbf{по тику}:
\begin{itemize}[left=\parindent]
    \item инкрементирует счетчик системного времени;
    \item декрементирует квант текущего потока на величину, равную количеству
          тактов процессора, произошедших за тик;
    \item декрементирует счетчики времени отложенных задач;
    \item если активизирован механизм профилирования ядра, инициализирует
          отложенный вызов обработчика ловушки профилирования ядра путем
          постановки объекта в очередь DPC;
    \item инкрементирует часы и другие таймеры сисемы.
\end{itemize}

Обработчик прерывания от системного таймера \textbf{по главному тику}:
\begin{itemize}[left=\parindent]
    \item освождает объект "событие"{}, который ожидает диспетчет настройки
          баланса.
\end{itemize}

Обработчик прерывания от системного таймера \textbf{по кванту}:
\begin{itemize}[left=\parindent]
    \item инициализирует диспетчеризацию потоков путем постановки
          соответсвующего объекта в очередь DPC.
\end{itemize}

\section{ОС семейства Unix/Linux}

Обработчик прерывания от системного таймера \textbf{по тику}:
\begin{itemize}[left=\parindent]
    \item инкрементирует счетчик тиков аппаратного таймера;
    \item декрементирует квант текущего потока;
    \item обновляет статистику использования процессора текущим процессом;
    \item инкрементирует часы и другие таймеры системы; 
    \item декрементирует счетчик времени до отправления на выполнение
          отложенного вызова.
\end{itemize}

Обработчик прерывания от системного таймера \textbf{по главному тику}:
\begin{itemize}[left=\parindent]
    \item инициализация отложенных действий, относящихся к работе планировщика;
    \item регистрирует отложенный вызов процедуры \textit{wakeup}, которая
          перемещает дескрипторы процессов из очереди ''спящих'' в очередь
          ''готовых к выполнению'';
    \item декрементирует счетчики времени, оставшегося до отправления одного из
          сигналов:
    \begin{itemize}[left=\parindent]
        \item \texttt{SIGALRM} -- сигнал, посылаемый процессу по истечении
              времени, заданного функцией \texttt{alarm()};
        \item \texttt{SIGPROF} -- сигнал, посылаемый процессу по истечении
              времени заданного в таймере профилирования;
        \item \texttt{SIGVTALRM} -- сигнал, посылаемый процессу по истечении
              времени, заданного в ''виртуальном'' таймере.
    \end{itemize}
\end{itemize}

Обработчик прерывания от системного таймера \textbf{по кванту}:
\begin{itemize}[left=\parindent]
    \item посылает текущему процессу сигнал \texttt{SIGCPU}, если тот
          израсходовал выделенный ему квант процессорного времени. 
\end{itemize}

